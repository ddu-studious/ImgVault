/* ==================== Reset & Variables ==================== */
*{margin:0;padding:0;box-sizing:border-box}
:root{
    --bg:#f5f5f7;--surface:#fff;--text:#1d1d1f;--text2:#6e6e73;--muted:#86868b;
    --accent:#0071e3;--accent-h:#0077ed;--accent-l:#e8f4fd;
    --danger:#ff3b30;--danger-l:#fff0ef;--success:#34c759;--warning:#ff9500;
    --border:#d2d2d7;--border-l:#e8e8ed;
    --r:12px;--r-sm:8px;
    --shadow:0 1px 3px rgba(0,0,0,.06);--shadow-lg:0 4px 16px rgba(0,0,0,.08);--shadow-xl:0 8px 32px rgba(0,0,0,.12);
    --tr:all .2s ease;
    --sb-bg:#f2f2f7;--sb-text:#1d1d1f;--sb-muted:#6e6e73;--sb-hover:#e5e5ea;--sb-active:#0071e3;
}
[data-theme="dark"]{
    color-scheme:dark;
    --bg:#1a1a1c;--surface:#2c2c2e;--text:#f5f5f7;--text2:#a1a1a6;--muted:#86868b;
    --accent:#2997ff;--accent-h:#0a84ff;--accent-l:rgba(41,151,255,.15);
    --danger:#ff453a;--danger-l:rgba(255,69,58,.15);--success:#30d158;--warning:#ff9f0a;
    --border:#3a3a3c;--border-l:#38383a;
    --shadow:0 1px 3px rgba(0,0,0,.2);--shadow-lg:0 4px 16px rgba(0,0,0,.3);--shadow-xl:0 8px 32px rgba(0,0,0,.4);
    --sb-bg:#1c1c1e;--sb-text:#f5f5f7;--sb-muted:#98989d;--sb-hover:#2c2c2e;
}
body{font-family:-apple-system,BlinkMacSystemFont,'SF Pro Display','Helvetica Neue',sans-serif;background:var(--bg);color:var(--text);min-height:100vh;-webkit-font-smoothing:antialiased}

/* ==================== Login ==================== */
.login-page{display:flex;align-items:center;justify-content:center;min-height:100vh;background:linear-gradient(135deg,#1c1c1e 0%,#2c2c2e 100%)}
.login-card{background:var(--surface);border-radius:18px;padding:40px;width:360px;text-align:center;box-shadow:var(--shadow-xl)}
.login-logo{display:flex;align-items:center;justify-content:center;gap:10px;font-size:22px;font-weight:700;margin-bottom:32px;color:var(--text)}
.logo-icon{width:32px;height:32px;background:var(--accent);border-radius:8px;display:flex;align-items:center;justify-content:center;color:#fff;font-size:16px;font-weight:700;flex-shrink:0}
.login-input{width:100%;padding:12px 16px;border:1px solid var(--border);border-radius:var(--r-sm);font-size:15px;outline:none;transition:var(--tr);margin-bottom:16px;background:var(--bg);color:var(--text)}
.login-input:focus{border-color:var(--accent);box-shadow:0 0 0 3px rgba(0,113,227,.15)}
.login-btn{width:100%;padding:12px;background:var(--accent);color:#fff;border:none;border-radius:var(--r-sm);font-size:15px;font-weight:600;cursor:pointer;transition:var(--tr)}
.login-btn:hover{background:var(--accent-h)}
.login-btn:disabled{opacity:.6;cursor:not-allowed}

/* ==================== Header ==================== */
.admin-header{height:52px;padding:0 24px;display:flex;align-items:center;justify-content:space-between;background:rgba(255,255,255,.72);backdrop-filter:saturate(180%) blur(20px);-webkit-backdrop-filter:saturate(180%) blur(20px);border-bottom:.5px solid rgba(0,0,0,.1);position:sticky;top:0;z-index:100}
[data-theme="dark"] .admin-header{background:rgba(44,44,46,.72);border-bottom-color:rgba(255,255,255,.08)}
.hdr-left,.hdr-right{display:flex;align-items:center;gap:10px}
.hdr-title{font-size:18px;font-weight:600}
.badge-admin{background:var(--accent);color:#fff;padding:2px 8px;border-radius:6px;font-size:11px;font-weight:600;vertical-align:middle}
.hdr-right{gap:8px}

/* ==================== Buttons ==================== */
.btn{padding:7px 16px;border-radius:18px;font-size:13px;font-weight:500;cursor:pointer;transition:var(--tr);border:none;display:inline-flex;align-items:center;gap:5px}
.btn-primary{background:var(--accent);color:#fff}.btn-primary:hover{background:var(--accent-h)}
.btn-outline{background:transparent;border:1px solid var(--border);color:var(--text2)}.btn-outline:hover{background:var(--bg)}
.btn-danger{background:var(--danger);color:#fff}.btn-danger:hover{opacity:.9}
.btn-success{background:var(--success);color:#fff}
.btn-sm{padding:5px 12px;font-size:12px;border-radius:14px}
.btn-icon{width:32px;height:32px;padding:0;border-radius:8px;display:flex;align-items:center;justify-content:center;background:transparent;border:1px solid var(--border-l);color:var(--text2);cursor:pointer;font-size:16px;line-height:1}
.btn-icon:hover{background:var(--bg)}
.theme-toggle{font-size:16px;line-height:1}

/* ==================== Layout ==================== */
.admin-layout{display:flex;min-height:calc(100vh - 52px)}
.admin-sidebar{width:180px;background:var(--sb-bg);padding:12px 8px;flex-shrink:0;overflow-y:auto;border-right:1px solid var(--border-l)}
.nav-item{display:flex;align-items:center;gap:8px;padding:9px 12px;border-radius:8px;color:var(--sb-muted);font-size:13px;cursor:pointer;transition:var(--tr);text-decoration:none;margin-bottom:2px}
.nav-item:hover{background:var(--sb-hover);color:var(--sb-text)}
.nav-item.active{background:var(--sb-active);color:#fff}
.ni{width:18px;text-align:center;font-size:14px}
.admin-content{flex:1;padding:24px 28px;overflow-y:auto;max-height:calc(100vh - 52px)}

/* ==================== Page Header ==================== */
.page-hdr{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}
.page-hdr h1{font-size:24px;font-weight:700;letter-spacing:-.5px}
.page-hdr-actions{display:flex;gap:8px;align-items:center}

/* ==================== Stat Cards ==================== */
.stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:16px;margin-bottom:24px}
.stat-card{background:var(--surface);border-radius:var(--r);padding:20px;box-shadow:var(--shadow);text-align:center}
.stat-icon{font-size:28px;margin-bottom:8px}
.stat-value{font-size:28px;font-weight:700;letter-spacing:-.5px}
.stat-label{font-size:12px;color:var(--muted);margin-top:4px}

/* ==================== Section Cards ==================== */
.section-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:16px;margin-bottom:24px}
.section-card{background:var(--surface);border-radius:var(--r);padding:20px;box-shadow:var(--shadow)}
.section-card h3{font-size:14px;font-weight:600;margin-bottom:12px;color:var(--text2)}
.fmt-row{display:flex;align-items:center;gap:10px;margin-bottom:8px;font-size:12px}
.fmt-label{width:50px;text-align:right;color:var(--muted);font-weight:500}
.fmt-bar{flex:1;height:8px;background:var(--border-l);border-radius:4px;overflow:hidden}
.fmt-bar-fill{height:100%;background:var(--accent);border-radius:4px;transition:width .5s ease}
.fmt-count{width:40px;color:var(--text2);font-size:11px}

/* ==================== Tables ==================== */
.table-wrap{background:var(--surface);border-radius:var(--r);box-shadow:var(--shadow);overflow:hidden}
table{width:100%;border-collapse:collapse}
th{background:var(--bg);text-align:left;padding:10px 14px;font-size:11px;text-transform:uppercase;color:var(--muted);letter-spacing:.5px;font-weight:600;white-space:nowrap}
td{padding:10px 14px;border-top:1px solid var(--border-l);font-size:13px;vertical-align:middle}
tr:hover td{background:var(--accent-l)}
.thumb{width:40px;height:40px;border-radius:6px;object-fit:cover;background:var(--bg)}
.status{padding:2px 8px;border-radius:10px;font-size:11px;font-weight:500}
.status-normal{background:#e8f8ee;color:#1b873f}
.status-deleted{background:var(--danger-l);color:var(--danger)}
[data-theme="dark"] .status-normal{background:rgba(52,199,89,.15);color:var(--success)}
.action-btns{display:flex;gap:4px}
.action-btn{padding:4px 10px;border-radius:6px;border:1px solid var(--border-l);background:transparent;color:var(--text2);font-size:11px;cursor:pointer;transition:var(--tr);white-space:nowrap}
.action-btn:hover{border-color:var(--accent);color:var(--accent)}
.action-btn.danger:hover{border-color:var(--danger);color:var(--danger)}

/* ==================== Pagination ==================== */
.pager{display:flex;justify-content:center;align-items:center;gap:4px;margin-top:16px;padding:12px 0}
.pg-btn{width:34px;height:34px;border-radius:8px;border:1px solid var(--border-l);background:var(--surface);color:var(--text2);cursor:pointer;font-size:13px;display:flex;align-items:center;justify-content:center;transition:var(--tr)}
.pg-btn:hover{border-color:var(--accent);color:var(--accent)}
.pg-btn.active{background:var(--accent);color:#fff;border-color:var(--accent)}
.pg-btn:disabled{opacity:.4;cursor:not-allowed}
.pg-info{font-size:12px;color:var(--muted);margin:0 10px}

/* ==================== Modal ==================== */
.modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,.5);backdrop-filter:blur(8px);z-index:1000;display:none;align-items:center;justify-content:center}
.modal-overlay.active{display:flex}
.modal{background:var(--surface);border-radius:18px;width:600px;max-width:92vw;max-height:85vh;overflow:hidden;display:flex;flex-direction:column;box-shadow:0 24px 80px rgba(0,0,0,.25)}
[data-theme="dark"] .modal{box-shadow:0 24px 80px rgba(0,0,0,.6)}
.modal-header{padding:16px 20px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid var(--border-l);font-size:16px;font-weight:600}
.modal-close{width:28px;height:28px;border-radius:50%;border:none;background:var(--bg);color:var(--text2);cursor:pointer;font-size:16px;display:flex;align-items:center;justify-content:center}
.modal-close:hover{background:var(--border-l)}
.modal-body{padding:20px;overflow-y:auto;flex:1}

/* ==================== Detail Layout ==================== */
.detail-grid{display:grid;grid-template-columns:1fr 1fr;gap:8px;font-size:13px}
.detail-grid .lbl{color:var(--muted);padding:4px 0}
.detail-grid .val{font-weight:500;padding:4px 0;word-break:break-all}
.detail-img{width:100%;max-height:300px;object-fit:contain;border-radius:var(--r-sm);background:var(--bg);margin-bottom:16px}

/* ==================== Empty & Loading ==================== */
.loading{display:flex;align-items:center;justify-content:center;padding:60px}
.spinner{width:28px;height:28px;border:3px solid var(--border-l);border-top-color:var(--accent);border-radius:50%;animation:spin .6s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}
.empty{text-align:center;padding:60px 20px;color:var(--muted)}
.empty-icon{font-size:40px;margin-bottom:8px}
.empty-text{font-size:14px}

/* ==================== Toast ==================== */
.toast-container{position:fixed;top:64px;right:24px;z-index:2000;display:flex;flex-direction:column;gap:8px}
.toast{background:var(--surface);border-radius:10px;padding:12px 16px;box-shadow:var(--shadow-xl);font-size:13px;display:flex;align-items:center;gap:8px;animation:slideIn .3s ease;min-width:240px;border-left:3px solid var(--accent)}
.toast.success{border-left-color:var(--success)}.toast.error{border-left-color:var(--danger)}
@keyframes slideIn{from{transform:translateX(100%);opacity:0}to{transform:translateX(0);opacity:1}}

/* ==================== Responsive ==================== */
@media(max-width:768px){
    .admin-sidebar{width:60px;padding:8px 4px}
    .nav-item span:not(.ni){display:none}
    .nav-item{justify-content:center;padding:10px}
    .ni{margin:0}
    .admin-content{padding:16px}
    .stats-grid{grid-template-columns:repeat(2,1fr)}
    .detail-grid{grid-template-columns:1fr}
}
